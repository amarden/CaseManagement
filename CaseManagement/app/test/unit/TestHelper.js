var testHelper = {};

testHelper.dropDowns = { "contactTypes": [{}, {}], "gender": [{ "genderId": 1, "genderName": "Male" }, { "genderId": 2, "genderName": "Female" }, ], "language": [{ "languageId": 1, "languageName": "English" }, { "languageId": 2, "languageName": "Spanish" }, { "languageId": 3, "languageName": "Armenian" }, { "languageId": 4, "languageName": "Arabic" }, { "languageId": 5, "languageName": "Vietnamese" }, { "languageId": 6, "languageName": "Russian" }, { "languageId": 7, "languageName": "Portuguese" }, { "languageId": 8, "languageName": "Haitian Creole" }, { "languageId": 9, "languageName": "Greek" }, { "languageId": 10, "languageName": "Ugandan" }, { "languageId": 11, "languageName": "Korean" }, { "languageId": 12, "languageName": "Pashto" }, { "languageId": 13, "languageName": "Polish" }, { "languageId": 14, "languageName": "Tamil" }, { "languageId": 15, "languageName": "Hungarian" }, { "languageId": 16, "languageName": "Tibetan" }, { "languageId": 99, "languageName": "Missing" }], "ethnicity": [{ "ethnicityId": 1, "ethnicityName": "American" }, { "ethnicityId": 2, "ethnicityName": "Vietnamese" }, { "ethnicityId": 3, "ethnicityName": "Russian" }, { "ethnicityId": 4, "ethnicityName": "Greek" }, { "ethnicityId": 5, "ethnicityName": "Nepali" }, { "ethnicityId": 6, "ethnicityName": "Brazilian" }, { "ethnicityId": 7, "ethnicityName": "Haitian" }, { "ethnicityId": 8, "ethnicityName": "Salvadoran" }, { "ethnicityId": 9, "ethnicityName": "Guetamalan" }, { "ethnicityId": 10, "ethnicityName": "Portuguese" }, { "ethnicityId": 11, "ethnicityName": "Ugandan" }, { "ethnicityId": 12, "ethnicityName": "Jamaican" }, { "ethnicityId": 13, "ethnicityName": "Dominican" }, { "ethnicityId": 14, "ethnicityName": "Moraccan" }, { "ethnicityId": 15, "ethnicityName": "Puerto Rican" }, { "ethnicityId": 16, "ethnicityName": "Korean" }, { "ethnicityId": 17, "ethnicityName": "German" }, { "ethnicityId": 18, "ethnicityName": "Afghanistani" }, { "ethnicityId": 19, "ethnicityName": "Armenian" }, { "ethnicityId": 20, "ethnicityName": "Polish" }, { "ethnicityId": 21, "ethnicityName": "Jordanian" }, { "ethnicityId": 22, "ethnicityName": "Turkish" }, { "ethnicityId": 23, "ethnicityName": "Sri Lankan" }, { "ethnicityId": 24, "ethnicityName": "Kenyan" }, { "ethnicityId": 25, "ethnicityName": "Hungarian" }, { "ethnicityId": 26, "ethnicityName": "Bolivian" }, { "ethnicityId": 27, "ethnicityName": "Tibetan" }, { "ethnicityId": 99, "ethnicityName": "Missing" }], "contactType": [{ "contactTypeId": 1, "contactTypeName": "Phone" }, { "contactTypeId": 2, "contactTypeName": "Face to Face" }, { "contactTypeId": 3, "contactTypeName": "Email" }, { "contactTypeId": 4, "contactTypeName": "Resource Gathering" }, { "contactTypeId": 5, "contactTypeName": "Collateral Contact" }, { "contactTypeId": 6, "contactTypeName": "Community Outreach" }], "housingStatus": [{ "housingStatusId": 1, "housingStatusName": "Rent" }, { "housingStatusId": 2, "housingStatusName": "Own" }, { "housingStatusId": 3, "housingStatusName": "Homeless" }, { "housingStatusId": 4, "housingStatusName": "Hotel" }, { "housingStatusId": 5, "housingStatusName": "Stay at friends/family" }, { "housingStatusId": 99, "housingStatusName": "Missing" }], "agency": [{ "agencyId": 1, "name": "Parenting Journey" }, { "agencyId": 2, "name": "Watertown Food Pantries" }, { "agencyId": 3, "name": "HWR Fund" }, { "agencyId": 4, "name": "Children's Charter" }, { "agencyId": 5, "name": "$2 Food Bags" }, { "agencyId": 6, "name": "Cradles to Crayons" }, { "agencyId": 7, "name": "Senior Center" }, { "agencyId": 8, "name": "Christmas Gifts" }, { "agencyId": 9, "name": "Salvation Army" }, { "agencyId": 10, "name": "Metrowest Collaborative" }, { "agencyId": 11, "name": "DTA" }, { "agencyId": 12, "name": "Career Centers" }, { "agencyId": 13, "name": "DTA " }, { "agencyId": 14, "name": "Catholic Charities" }, { "agencyId": 15, "name": "Watertown Housing Application" }, { "agencyId": 16, "name": "MBHP" }, { "agencyId": 17, "name": "Watertown Housing Emergency Application" }, { "agencyId": 18, "name": "Housing Application" }, { "agencyId": 19, "name": "Wayside Student Assistance Program" }, { "agencyId": 20, "name": "Brookline Center" }, { "agencyId": 21, "name": "NSTAR Financial Hardship" }, { "agencyId": 22, "name": "National Grid" }, { "agencyId": 23, "name": "Mental Health Legal Services" }, { "agencyId": 24, "name": "HRW Fund " }, { "agencyId": 25, "name": "Food Pantries" }, { "agencyId": 26, "name": "watertown food pantries" }, { "agencyId": 27, "name": "Watertown Housing" }, { "agencyId": 28, "name": "CSP services" }, { "agencyId": 29, "name": "HRW Fund Fuel" }, { "agencyId": 30, "name": "Riverside" }, { "agencyId": 31, "name": "Thanksgiving Baskets" }, { "agencyId": 32, "name": "Miller Tracy Fund" }, { "agencyId": 33, "name": "Nstar bill financial planning" }, { "agencyId": 34, "name": "Watertown Police" }, { "agencyId": 35, "name": "Reach" }, { "agencyId": 36, "name": "Jewish Children and Family Services" }, { "agencyId": 37, "name": "Watertown Housing Authority" }, { "agencyId": 38, "name": "List and phone numbers of possible homeless shelters" }, { "agencyId": 39, "name": "Community Teamwork" }, { "agencyId": 40, "name": "Hoarding Support Group" }, { "agencyId": 41, "name": "Stratus-Till" }, { "agencyId": 42, "name": "LARC" }, { "agencyId": 43, "name": "BC Legal" }, { "agencyId": 44, "name": "Holiday donations" }, { "agencyId": 45, "name": "Immigration Needs" }, { "agencyId": 46, "name": "Make a Wish Foundation" }, { "agencyId": 47, "name": "Perkins school for the blind" }, { "agencyId": 48, "name": "HWR" }, { "agencyId": 49, "name": "Metrowest collaborative" }, { "agencyId": 50, "name": "HRW" }, { "agencyId": 51, "name": "Career Source" }, { "agencyId": 52, "name": "JC&FS" }, { "agencyId": 53, "name": "HRW Fund" }, { "agencyId": 54, "name": "Gifts for Christmas" }, { "agencyId": 55, "name": "Follow up on Disability" }, { "agencyId": 56, "name": "Healthy Families" }, { "agencyId": 57, "name": "SNAP appeal" }, { "agencyId": 58, "name": "Cradles To Crayons" }, { "agencyId": 59, "name": "Lend a Hand" }, { "agencyId": 60, "name": "HRW fund" }, { "agencyId": 61, "name": "First Parish" }, { "agencyId": 62, "name": "Application for Mass Rehab In home health aid" }, { "agencyId": 63, "name": "Marshall Home Fund" }, { "agencyId": 64, "name": "Camp Options" }, { "agencyId": 65, "name": "Wayside Outpatient" }, { "agencyId": 66, "name": "Wayside Youth" }, { "agencyId": 67, "name": "Looking for outpatient resources" }, { "agencyId": 68, "name": "Lookiing for parenting groups" }, { "agencyId": 69, "name": "National grid low income rate" }, { "agencyId": 70, "name": "Food Stamp Application" }, { "agencyId": 71, "name": "Faxed to DTA" }, { "agencyId": 72, "name": "COA" }, { "agencyId": 73, "name": "Boston College Legal Servoces" }, { "agencyId": 74, "name": "Watertown Farmers Market" }, { "agencyId": 75, "name": "Camps" }, { "agencyId": 76, "name": "Watertown Boys and girls club" }, { "agencyId": 77, "name": "Watertown Recreation" }, { "agencyId": 78, "name": "DMH" }, { "agencyId": 79, "name": "Stratus" }, { "agencyId": 80, "name": "St. Pats Knitting prayer group" }, { "agencyId": 81, "name": "Susan Falkoff" }, { "agencyId": 82, "name": "Art Relief" }, { "agencyId": 83, "name": "Grief Group" }, { "agencyId": 84, "name": "Employee Assistance Program" }, { "agencyId": 85, "name": "Wayside" }, { "agencyId": 86, "name": "Food stamps app" }, { "agencyId": 87, "name": "Community teamwork" }, { "agencyId": 88, "name": "MassHealth Forms" }, { "agencyId": 89, "name": "CBHI services" }, { "agencyId": 90, "name": "WAyside" }, { "agencyId": 91, "name": "REACH" }, { "agencyId": 92, "name": "Food pantries" }, { "agencyId": 93, "name": "Watertown Housing authority" }, { "agencyId": 94, "name": "Federation for Children with Special needs" }, { "agencyId": 95, "name": "Masshealth app" }, { "agencyId": 96, "name": "SSI info and app" }, { "agencyId": 97, "name": "SNAP application" }, { "agencyId": 98, "name": "Section 8 Application" }, { "agencyId": 99, "name": "Metrowest Collabrative" }, { "agencyId": 100, "name": "Art Grants" }, { "agencyId": 101, "name": "SEB Lottery" }, { "agencyId": 102, "name": "Cradles to crayons" }, { "agencyId": 103, "name": "JF&CS" }, { "agencyId": 104, "name": "Shelters" }, { "agencyId": 105, "name": "Boston housing authority" }, { "agencyId": 106, "name": "Watertown housing authority" }, { "agencyId": 107, "name": "Caritas Communities" }, { "agencyId": 108, "name": "Watertown Senior Center" }, { "agencyId": 109, "name": "SW referral Line" }, { "agencyId": 110, "name": "SSI" }, { "agencyId": 111, "name": "Food Stamps" }, { "agencyId": 112, "name": "Mark Deyab" }, { "agencyId": 113, "name": "Watertown Boys and Girls Club" }, { "agencyId": 114, "name": "Newton YMCA" }, { "agencyId": 115, "name": "Waltham Housing application" }, { "agencyId": 116, "name": "Voucher application" }, { "agencyId": 117, "name": "List of Shelters" }, { "agencyId": 118, "name": "Home health aid and PT" }, { "agencyId": 119, "name": "Safelink" }, { "agencyId": 120, "name": "Snap Application" }, { "agencyId": 121, "name": "Watertown food pantry" }, { "agencyId": 122, "name": "Caritas" }, { "agencyId": 123, "name": "Brookline Mental Health Center" }, { "agencyId": 124, "name": "Council on Aging" }, { "agencyId": 125, "name": "Local small business fair" }, { "agencyId": 126, "name": "MassHealth application" }, { "agencyId": 127, "name": "VAC" }, { "agencyId": 128, "name": "Brookline center" }, { "agencyId": 129, "name": "Watertown Food pantries" }, { "agencyId": 130, "name": "Short Stop" }, { "agencyId": 131, "name": "SNAP Application" }, { "agencyId": 132, "name": "Watertown Food Pantry" }, { "agencyId": 133, "name": "SNAP Interview" }, { "agencyId": 134, "name": "Watertown Police Toy Drive" }, { "agencyId": 135, "name": "Miller Tracey Fund" }, { "agencyId": 136, "name": "Boston College Legal" }, { "agencyId": 137, "name": "Greater Boston" }, { "agencyId": 138, "name": "Police Holiday Gift Drive" }, { "agencyId": 139, "name": "Masshealth" }, { "agencyId": 140, "name": "CTI" }, { "agencyId": 141, "name": "Watertown COA" }, { "agencyId": 142, "name": "Hosmer school" }, { "agencyId": 143, "name": "Boys and Girls Club" }, { "agencyId": 144, "name": "DMH Application" }, { "agencyId": 145, "name": "Jewish Children & Family Services" }, { "agencyId": 146, "name": "Shelter list" }, { "agencyId": 147, "name": "Social Work Referral Service" }, { "agencyId": 148, "name": "Advocates" }, { "agencyId": 149, "name": "Section information." }, { "agencyId": 150, "name": "Bristol Lodge Soup Kitchen" }, { "agencyId": 151, "name": "LifeLine Phone" }, { "agencyId": 152, "name": "PT1" }, { "agencyId": 153, "name": "Cash Benefits DTA" }, { "agencyId": 154, "name": "Watertown Emergency Fund" }, { "agencyId": 155, "name": "National Grid forgiveness plan" }, { "agencyId": 156, "name": "JC&JF" }, { "agencyId": 157, "name": "Health Department for Testing" }, { "agencyId": 158, "name": "SNAP form" }, { "agencyId": 159, "name": "Veterans Affairs" }, { "agencyId": 160, "name": "Lion's club" }, { "agencyId": 161, "name": "Emergency shelters" }, { "agencyId": 162, "name": "MassHealth" }, { "agencyId": 163, "name": "Joseph Smith" }, { "agencyId": 164, "name": "Rep. Hecht's office" }, { "agencyId": 165, "name": "Good Shepard Job" }, { "agencyId": 166, "name": "Wayside Youth " }, { "agencyId": 167, "name": "SWTR" }], "race": [{ "raceId": 1, "raceName": "White" }, { "raceId": 2, "raceName": "Asian" }, { "raceId": 3, "raceName": "Hispanic" }, { "raceId": 4, "raceName": "Black" }, { "raceId": 5, "raceName": "Native American" }, { "raceId": 6, "raceName": "Multi-Race" }, { "raceId": 99, "raceName": "Missing" }], "provider": [], "responder": [{ "responderId": 1, "responderName": "Danielle" }, { "responderId": 2, "responderName": "Intern" }, { "responderId": 3, "responderName": "Intern 2" }, { "responderId": 4, "responderName": "Laura" }], "translation": [{ "translationId": 1, "translationValue": "No" }, { "translationId": 2, "translationValue": "Yes" }, { "translationId": 3, "translationValue": "Maybe" }, { "translationId": 99, "translationValue": "Missing" }], "need": [{ "needId": 1, "needName": "Emergency needs" }, { "needId": 2, "needName": "Food" }, { "needId": 3, "needName": "Medical" }, { "needId": 4, "needName": "Dental" }, { "needId": 5, "needName": "Eye Care" }, { "needId": 6, "needName": "Mental Health" }, { "needId": 7, "needName": "Employment" }, { "needId": 8, "needName": "Housing" }, { "needId": 9, "needName": "Fuel" }, { "needId": 10, "needName": "Utilities" }, { "needId": 11, "needName": "Legal" }, { "needId": 12, "needName": "Education" }, { "needId": 13, "needName": "Clothing" }, { "needId": 14, "needName": "Other" }, { "needId": 15, "needName": "Masshealth" }], "visitResult": [{ "visitResultId": 1, "visitResultName": "Referral Over Phone" }, { "visitResultId": 2, "visitResultName": "Referral to Collateral" }, { "visitResultId": 3, "visitResultName": "Follow Up with Client" }, { "visitResultId": 4, "visitResultName": "Case Management" }, { "visitResultId": 5, "visitResultName": "Schedule Appointment" }, { "visitResultId": 6, "visitResultName": "Not sure whats happening" }, { "visitResultId": 99, "visitResultName": "Missing" }], "referralType": [{ "referralTypeId": 1, "referralTypeName": "Emergency Needs" }, { "referralTypeId": 2, "referralTypeName": "Food" }, { "referralTypeId": 3, "referralTypeName": "Medical" }, { "referralTypeId": 4, "referralTypeName": "Dental" }, { "referralTypeId": 5, "referralTypeName": "Eyecare" }, { "referralTypeId": 6, "referralTypeName": "Mental Health" }, { "referralTypeId": 7, "referralTypeName": "Employment" }, { "referralTypeId": 8, "referralTypeName": "Housing" }, { "referralTypeId": 9, "referralTypeName": "Fuel" }, { "referralTypeId": 10, "referralTypeName": "Utilities" }, { "referralTypeId": 11, "referralTypeName": "Clothing" }, { "referralTypeId": 12, "referralTypeName": "Legal" }, { "referralTypeId": 13, "referralTypeName": "Other Financial" }, { "referralTypeId": 14, "referralTypeName": "Educational" }] };

testHelper.mockHttp = function (httpBackend) {
    httpBackend.when('GET', '/api/languages')
        .respond(200, JSON.stringify(testHelper.dropDowns.language));

    httpBackend.when('GET', '/api/genders')
        .respond(200, JSON.stringify(testHelper.dropDowns.gender));

    httpBackend.when('GET', '/api/contacttypes')
        .respond(200, JSON.stringify(testHelper.dropDowns.contactTypes));

    httpBackend.when('GET', '/api/ethnicities')
        .respond(200, JSON.stringify(testHelper.dropDowns.ethnicity));

    httpBackend.when('GET', '/api/housingstatus')
        .respond(200, JSON.stringify(testHelper.dropDowns.housingStatus));

    httpBackend.when('GET', '/api/agencies')
        .respond(200, JSON.stringify(testHelper.dropDowns.agency));

    httpBackend.when('GET', '/api/races')
        .respond(200, JSON.stringify(testHelper.dropDowns.race));

    httpBackend.when('GET', '/api/providers')
        .respond(200, JSON.stringify(testHelper.dropDowns.provider));

    httpBackend.when('GET', '/api/responders')
        .respond(200, JSON.stringify(testHelper.dropDowns.responder));

    httpBackend.when('GET', '/api/translations')
       .respond(200, JSON.stringify(testHelper.dropDowns.translation));

    httpBackend.when('GET', '/api/needs')
       .respond(200, JSON.stringify(testHelper.dropDowns.need));

    httpBackend.when('GET', '/api/LearnAbouts')
        .respond(200, JSON.stringify(testHelper.dropDowns.language));

    httpBackend.when('GET', '/api/VisitResults')
       .respond(200, JSON.stringify(testHelper.dropDowns.visitResult));

    httpBackend.when('GET', '/api/ReferralTypes')
       .respond(200, JSON.stringify(testHelper.dropDowns.referralType));

    return httpBackend;
};

if (!Array.prototype.findIndex) {
    Array.prototype.findIndex = function (predicate) {
        if (this === null) {
            throw new TypeError('Array.prototype.findIndex called on null or undefined');
        }
        if (typeof predicate !== 'function') {
            throw new TypeError('predicate must be a function');
        }
        var list = Object(this);
        var length = list.length >>> 0;
        var thisArg = arguments[1];
        var value;

        for (var i = 0; i < length; i++) {
            value = list[i];
            if (predicate.call(thisArg, value, i, list)) {
                return i;
            }
        }
        return -1;
    };
}